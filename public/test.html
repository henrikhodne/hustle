<!DOCTYPE html>
<html>
  <head>
    <title>hustle test</title>
    <script src="pusher.min.js"></script>
  </head>
  <body>
    <h1>hustle test</h1>
    <script>
    var pusher = new Pusher('foo', {
      wsHost: 'localhost',
      wsPort: '8663',
      wssPort: '8664',
      httpHost: 'localhost',
      httpPort: '8661',
      httpsPort: '8662',
      httpPath: '/pusher',
      statsHost: 'localhost:8665',
      authEndpoint: '/pusher/auth',
      authTransport: 'ajax'
    }), channel;

    Pusher.log = function (data) {
      console.log('\t\t', data);
    };

    pusher.bind('pusher:error', function (data) {
      alert(data.message);
    });

    channel = pusher.subscribe('bar');
    channel.bind('an_event', function(data) {
      document.body.setAttribute(
        'style', 'background-color: ' + data.color + ';'
      )
    });
    </script>
  </body>
</html>
